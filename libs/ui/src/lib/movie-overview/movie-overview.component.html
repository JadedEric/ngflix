<div class="container">
    <div class="row mt-4 mb-4">
        <ng-container *ngIf="(movie$ | async) as movie; else loading">        
            <div class="col-md-4 col-sm-12 col-xs-12">
                <div class="card">
                    <img class="card-img-top img-fluid" [src]="movie.Poster" alt="Card image cap" />
                </div>
            </div>
            <div class="col-md-8 col-sm-12 col-xs-12">
                <h5 class="header">
                    {{movie.Title}}
                    <span>{{movie.Year}}</span>
                </h5>
                <div class="rate-movie d-flex flex-row align-items-center">
                    <div class="rating d-flex flex-row align-items-center">
                        <fa-icon [icon]="faStarFill"></fa-icon>
                        <p>
                            <span>{{movie.Ratings[0].Value}}</span>
                        </p>
                    </div>
                    <div class="star d-flex flex-row align-items-center">
                        <label>Movie rating:</label>
                        <div class="ml-4">
                            <span *ngFor="let rating of (movie.Ratings[0].Value | rating); let ratingIndex = index;">
                                <fa-icon class="fill" *ngIf="rating" [icon]="faStarFill"></fa-icon>
                                <fa-icon class="fill" *ngIf="!rating" [icon]="faStar"></fa-icon>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="navigation mb-4">
                    <button type="button" class="btn btn-link">Overview</button>
                </div>
                <div class="d-flex flex-row">
                    <div class="col-8">
                        <p class="plot">{{movie.Plot}}</p>
                        <div class="cast">
                            <h4>Cast</h4>                            
                        </div>           
                        <div class="movie-cast">
                            <div class="cast-item" *ngFor="let actor of (movie.Actors | splitString : ','); let actorIndex = index;">
                                <div class="cast-left">
                                    <label>{{actor}}</label>
                                </div>
                            </div>
                        </div>  
                        <div class="writers">
                            <h4>Writers</h4>                            
                        </div> 
                        <div class="movie-writers">
                            <div class="writer-item" *ngFor="let writer of (movie.Writer | splitString : ','); let writerIndex = index;">
                                <div class="writer-left">
                                    <label>{{writer}}</label>
                                </div>
                            </div>
                        </div>                                   
                    </div>
                    <div class="col-4">
                        <div class="litter-box">
                            <h6>Director:</h6>                            
                            <p>{{movie.Director}}</p>
                        </div>
                        <div class="litter-box">
                            <h6>Actors:</h6>                            
                            <p>{{movie.Actors}}</p>
                        </div>                  
                        <div class="litter-box">
                            <h6>Genres:</h6>                            
                            <p>{{movie.Genre}}</p>
                        </div>       
                        <div class="litter-box">
                            <h6>Released:</h6>                            
                            <p>{{movie.Released}} ({{movie.Country}})</p>
                        </div>  
                        <div class="litter-box">
                            <h6>Run Time:</h6>                            
                            <p>{{movie.Runtime}}</p>
                        </div>  
                        <div class="litter-box">
                            <h6>MMPA Rating:</h6>                            
                            <p>{{movie.Rated}}</p>
                        </div>       
                        <div class="litter-box">
                            <h6>Production:</h6>                            
                            <p>{{movie.Production}}</p>
                        </div> 
                        <div class="litter-box">
                            <h6>Language:</h6>                            
                            <p>{{movie.Language}}</p>
                        </div>                         
                        <div class="litter-box">
                            <h6>Awards:</h6>                            
                            <p>{{movie.Awards}}</p>
                        </div>   
                        <div class="litter-box">
                            <h6>Box Office:</h6>                            
                            <p>{{movie.BoxOffice}}</p>
                        </div>            
                    </div>
                </div>
            </div>        
        </ng-container>
    </div>
</div>

<ng-template #loading>
    <div class="col-12">
        Loading information...
    </div>
</ng-template>